#!/bin/bash

# Recursive variant of grep which ignores certain dirs that
# shouldn't normally be traversed.

if [[ -f /proc/version ]]; then
    # Linux, assume GNU grep
    egrep --exclude='*\.snapshot*' --exclude='*\.git*' --exclude='*\.CVS*' --exclude='*\.svn*' -I -r "$@" .
else
    # Fallback
    ffind . -type f -exec egrep "$@" {} +
fi
